<!doctype html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
    <title>nosok — the game</title>
    <link rel="stylesheet" href="/stylesheet/layout.css" />
    <script type="module" defer src="/src/main.js"></script>
  </head>
  <body>
    <main class="home">
      <section class="home-hero" id="home-hero">
        <div class="hero-inner">
          <div class="hero-copy">
            <span class="badge">NOSOK LAB</span>
            <h1>Прачечная, где вещи становятся легендами</h1>
            <p>
              Мы превращаем заботу о вещах в игру: немного шума, немного памяти
              и много характера.
            </p>
            <a class="button" href="#home-game">Перейти к игре</a>
          </div>
          <div class="hero-logo-panel">
            <button
              class="hero-logo-button"
              type="button"
              aria-label="Нажать логотип"
            >
              <img
                src="/src/img/logo_pink.svg"
                id="hero-logo"
                data-logo="pink"
                class="hero-logo-img"
                alt="Nosok"
              />
            </button>
          </div>
        </div>
      </section>

      <section class="home-game" id="home-game">
        <div class="game-grid">
          <div class="game-panel game-panel--play">
            <header class="header">
              <h2>Игра</h2>
              <div style="display: none" class="badge"></div>
            </header>
            <div id="app" class="game-shell">
              <div class="hud" id="hud">
                <div
                  class="hud-panel hud-panel--hint"
                  id="hud-interaction"
                  aria-hidden="true"
                >
                  <div id="hint"></div>
                  <div class="small" id="subhint"></div>
                </div>
                <div
                  class="hud-panel hud-panel--toast"
                  id="hud-toast"
                  aria-live="polite"
                  aria-hidden="true"
                >
                  <div class="hud-toast-title" id="hud-toast-title"></div>
                  <div class="hud-toast-sub" id="hud-toast-sub"></div>
                  <div class="hud-toast-progress" id="hud-toast-progress"></div>
                </div>
              </div>
              <div id="game-wrap">
                <section id="game"></section>
                <div id="touch-controls" aria-hidden="true">
                  <div class="touch-pad">
                    <button
                      class="touch-btn dpad up"
                      data-code="KeyW"
                      type="button"
                    >
                      W
                    </button>
                    <button
                      class="touch-btn dpad left"
                      data-code="KeyA"
                      type="button"
                    >
                      A
                    </button>
                    <button
                      class="touch-btn dpad down"
                      data-code="KeyS"
                      type="button"
                    >
                      S
                    </button>
                    <button
                      class="touch-btn dpad right"
                      data-code="KeyD"
                      type="button"
                    >
                      D
                    </button>
                  </div>
                  <div class="touch-actions">
                    <button
                      class="touch-btn action"
                      data-code="KeyE"
                      type="button"
                    >
                      E
                    </button>
                    <button
                      class="touch-btn jump"
                      data-code="Space"
                      type="button"
                    >
                      JUMP
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="game-panel game-panel--tasks">
            <div class="header">
              <h2>Квесты</h2>
              <span class="badge" id="quests-progress-tag">0/3</span>
            </div>
            <div class="task-list" id="quest-list">
              <article class="task_card" data-quest-id="collect-items" data-status="active">
                <h4>Собрать все вещи</h4>
                <p>Соберите все найденные вещи в прачечной.</p>
                <span class="task_meta" data-quest-counter="collect-items">0 / 0</span>
              </article>
              <article class="task_card" data-quest-id="collect-docs" data-status="active">
                <h4>Собрать все документы</h4>
                <p>Найдите и откройте все документы в зале.</p>
                <span class="task_meta" data-quest-counter="collect-docs">0 / 0</span>
              </article>
              <article class="task_card" data-quest-id="wash-items" data-status="active">
                <h4>Постирать вещи</h4>
                <p>Подойдите к WM_err и нажмите E после сбора всех вещей.</p>
                <span class="task_meta" data-quest-counter="wash-items">Ожидает сбор вещей</span>
              </article>
            </div>
          </div>

          <div class="game-panel game-panel--cards">
            <div class="header">
              <h2>Найденные предметы</h2>
            </div>
            <div class="cards-grid" id="items-list"></div>
          </div>
          <div class="game-panel game-panel--docs">
            <div class="header">
              <h2>Последние документы</h2>
              <span class="badge" id="docs-count-tag">найдено 0 / 5</span>
            </div>
            <ul class="doc-list" id="docs-list"></ul>
          </div>
          <div id="DOC" class="doc-panel" aria-hidden="true">
            <div class="doc-shell">
              <header class="doc-header">
                <div class="doc-header-row">
                  <span class="doc-tag" id="doc-type">DOC</span>
                  <button class="doc-close" type="button">Закрыть</button>
                </div>
                <h1 id="doc-title" class="doc-title">Документ NOSOK</h1>
                <p id="doc-lead" class="doc-lead">
                  Подойдите к листовке в игре и нажмите E, чтобы открыть её.
                </p>
              </header>
              <div id="doc-sections" class="doc-sections"></div>
              <footer class="doc-footer">
                <span id="doc-footer-build">NOSOK LAB • DOC BUILD 004</span>
                <span class="doc-footer-hint">ESC — закрыть</span>
              </footer>
            </div>
          </div>
          <div id="ITEM" class="doc-panel" aria-hidden="true" data-type="item">
            <div class="doc-shell">
              <header class="doc-header">
                <div class="doc-header-row">
                  <span class="doc-tag">Гардероб</span>
                  <button class="doc-close" id="item-close" type="button">
                    Закрыть
                  </button>
                </div>
                <h1 id="item-title" class="doc-title">Предмет гардероба</h1>
                <p id="item-lead" class="doc-lead">
                  Найдите вещь в игре и откройте карточку, чтобы прочитать
                  научпоп.
                </p>
              </header>
              <div id="ITEM_MODEL_LAYER" aria-hidden="true">
                <div id="item-viewer-wrap">
                  <div
                    id="item-viewer"
                    role="img"
                    aria-label="3D-просмотр предмета гардероба"
                  ></div>
                  <p id="item-viewer-tip">Потяните модель, чтобы осмотреть</p>
                </div>
              </div>
              <div id="item-sections" class="doc-sections">
                <section class="doc-section" id="item-facts">
                  <h2>Научпоп</h2>
                </section>
              </div>
              <footer class="doc-footer">
                <span>NOSOK LAB • ITEM BUILD 001</span>
                <span class="doc-footer-hint">ESC — закрыть</span>
              </footer>
            </div>
          </div>
        </div>
      </section>
      <section
        class="home-designer"
        id="home-designer"
        aria-labelledby="designer-title"
      >
        <div class="designer-shell">
          <div class="designer-copy">
            <span class="badge">NOSOK CUSTOM LAB</span>
            <h2 id="designer-title">Нарисуй принт прямо на носке</h2>
            <p>
              Выбери цвет, настрой толщину линии и придумай свой дикий узор.
              Всё, что не помещается в рамки fast fashion, отлично помещается
              здесь.
            </p>
          </div>
          <div class="designer-workbench">
            <div class="sock-stage">
              <div class="sock-designer-surface">
                <img
                  class="sock-designer-base"
                  src="/src/img/nosok.svg"
                  alt=""
                  aria-hidden="true"
                />
                <canvas
                  id="sock-designer-canvas"
                  width="820"
                  height="840"
                  aria-label="Холст для рисования на носке"
                ></canvas>
              </div>
              <p class="sock-stage-hint">Тяни курсор или палец по носку</p>
            </div>
            <aside class="designer-controls" aria-label="Инструменты рисования">
              <h3>Инструменты</h3>
              <div class="designer-palette" id="sock-palette">
                <button
                  type="button"
                  class="designer-swatch designer-swatch--black is-active"
                  data-sock-color="#111111"
                  aria-label="Черный цвет"
                ></button>
                <button
                  type="button"
                  class="designer-swatch designer-swatch--yellow"
                  data-sock-color="#ffe600"
                  aria-label="Желтый цвет"
                ></button>
                <button
                  type="button"
                  class="designer-swatch designer-swatch--pink"
                  data-sock-color="#fe4aae"
                  aria-label="Розовый цвет"
                ></button>
                <button
                  type="button"
                  class="designer-swatch designer-swatch--green"
                  data-sock-color="#b4ff3b"
                  aria-label="Зеленый цвет"
                ></button>
                <button
                  type="button"
                  class="designer-swatch designer-swatch--purple"
                  data-sock-color="#7e5bff"
                  aria-label="Фиолетовый цвет"
                ></button>
                <button
                  type="button"
                  class="designer-swatch designer-swatch--white"
                  data-sock-color="#ffffff"
                  aria-label="Белый цвет"
                ></button>
              </div>
              <label class="designer-slider" for="sock-brush-size">
                Размер кисти
                <input
                  id="sock-brush-size"
                  type="range"
                  min="6"
                  max="58"
                  value="18"
                />
                <output id="sock-brush-output" for="sock-brush-size"
                  >18 px</output
                >
              </label>
              <div class="designer-actions">
                <button
                  class="designer-btn designer-btn--pink"
                  id="sock-tool-toggle"
                  type="button"
                  aria-pressed="false"
                >
                  Ластик
                </button>
                <button
                  class="designer-btn designer-btn--yellow"
                  id="sock-clear"
                  type="button"
                >
                  Очистить
                </button>
                <button
                  class="designer-btn designer-btn--green"
                  id="sock-download"
                  type="button"
                >
                  Скачать PNG
                </button>
              </div>
            </aside>
          </div>
        </div>
      </section>
      <section
        class="home-recycler"
        id="home-recycler"
        aria-labelledby="recycler-title"
      >
        <h2 id="recycler-title" class="recycler-title">Разбери одежду в сырьё</h2>
        <button
          class="recycler-help"
          id="recycler-help"
          type="button"
          aria-label="Подсказка по кликеру"
          aria-expanded="false"
          aria-controls="recycler-tooltip"
        >
          ?
        </button>
        <aside class="recycler-tooltip" id="recycler-tooltip" role="tooltip">
          Кликайте по объекту слева, собирайте сырьё и покупайте улучшения:
          урон за клик и автоклики в секунду.
        </aside>
        <div class="recycler-shell">
          <div class="recycler-stage" id="recycler-stage">
            <button
              class="recycler-target"
              id="recycler-target"
              type="button"
              aria-label="Разобрать объект"
            >
              <img
                class="recycler-target-img"
                id="recycler-target-img"
                src="/src/img/nosok.svg"
                alt=""
                aria-hidden="true"
              />
              <span
                class="recycler-hitflash"
                id="recycler-hitflash"
                aria-hidden="true"
              ></span>
            </button>
            <output
              class="recycler-drop"
              id="recycler-drop"
              aria-live="polite"
            ></output>
            <span
              class="recycler-hitline"
              id="recycler-hitline"
              aria-hidden="true"
            ></span>
            <div
              class="recycler-pop-layer"
              id="recycler-pop-layer"
              aria-hidden="true"
            ></div>
            <div class="recycler-stats" aria-live="polite">
              <p class="recycler-stat">
                <span class="recycler-stat-label">сырьё</span>
                <strong class="recycler-stat-value" id="recycler-resource-value"
                  >0</strong
                >
              </p>
              <p class="recycler-stat">
                <span class="recycler-stat-label">клик</span>
                <strong class="recycler-stat-value" id="recycler-click-value"
                  >12</strong
                >
              </p>
              <p class="recycler-stat">
                <span class="recycler-stat-label">авто/сек</span>
                <strong class="recycler-stat-value" id="recycler-auto-value"
                  >0</strong
                >
              </p>
            </div>
          </div>
          <div class="recycler-meta">
            <div
              class="recycler-tools"
              id="recycler-tools"
              aria-label="Улучшения кликера"
            >
              <button
                class="recycler-tool recycler-tool--green"
                type="button"
                data-tool-id="sandpaper"
                aria-label="Купить Наждачку +4 клик"
              >
                <span class="recycler-tool-name">наждачка</span>
                <span class="recycler-tool-rate">+4/клик</span>
                <span class="recycler-tool-meta"></span>
              </button>
              <button
                class="recycler-tool recycler-tool--yellow"
                type="button"
                data-tool-id="scissors"
                aria-label="Купить Ножницы +16 клик"
              >
                <span class="recycler-tool-name">ножницы</span>
                <span class="recycler-tool-rate">+16/клик</span>
                <span class="recycler-tool-meta"></span>
              </button>
              <button
                class="recycler-tool recycler-tool--green"
                type="button"
                data-tool-id="cutters"
                aria-label="Купить Кусачки +24 клик"
              >
                <span class="recycler-tool-name">кусачки</span>
                <span class="recycler-tool-rate">+24/клик</span>
                <span class="recycler-tool-meta"></span>
              </button>
              <button
                class="recycler-tool recycler-tool--yellow"
                type="button"
                data-tool-id="shredder"
                aria-label="Купить Шредер +60 клик"
              >
                <span class="recycler-tool-name">шредер</span>
                <span class="recycler-tool-rate">+60/клик</span>
                <span class="recycler-tool-meta"></span>
              </button>
              <button
                class="recycler-tool recycler-tool--purple"
                type="button"
                data-tool-id="flamethrower"
                aria-label="Купить Огнемет +4 в секунду"
              >
                <span class="recycler-tool-name">огнемет</span>
                <span class="recycler-tool-rate">+4/сек</span>
                <span class="recycler-tool-meta"></span>
              </button>
              <button
                class="recycler-tool recycler-tool--pink"
                type="button"
                data-tool-id="overlock"
                aria-label="Купить Оверлок +16 в секунду"
              >
                <span class="recycler-tool-name">оверлок</span>
                <span class="recycler-tool-rate">+16/сек</span>
                <span class="recycler-tool-meta"></span>
              </button>
              <button
                class="recycler-tool recycler-tool--purple"
                type="button"
                data-tool-id="press"
                aria-label="Купить Пресс +24 в секунду"
              >
                <span class="recycler-tool-name">пресс</span>
                <span class="recycler-tool-rate">+24/сек</span>
                <span class="recycler-tool-meta"></span>
              </button>
              <button
                class="recycler-tool recycler-tool--pink"
                type="button"
                data-tool-id="turbine"
                aria-label="Купить Турбину +60 в секунду"
              >
                <span class="recycler-tool-name">турбина</span>
                <span class="recycler-tool-rate">+60/сек</span>
                <span class="recycler-tool-meta"></span>
              </button>
            </div>
          </div>
        </div>
        <div class="recycler-life recycler-life--bottom" aria-hidden="true">
          <span class="recycler-life-bar" id="recycler-life-bar"></span>
        </div>
      </section>
    </main>
  </body>
</html>
