<!doctype html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
    <title>nosok — the game</title>
    <link rel="stylesheet" href="/stylesheet/layout.css" />
    <script type="module" defer src="/src/main.js"></script>
  </head>
  <body>
    <main class="home">
      <section class="home-hero" id="home-hero">
        <div class="hero-logo-stream" aria-hidden="true"></div>
        <div class="hero-inner">
          <div class="hero-copy">
            <span class="badge">NOSOK LAB</span>
            <h1>Прачечная, где вещи становятся легендами</h1>
            <p>
              Мы превращаем заботу о вещах в игру: немного шума, немного памяти
              и много характера.
            </p>
            <a class="button" href="#home-game">Перейти к игре</a>
          </div>
          <div class="hero-logo-panel">
            <button
              class="hero-logo-button"
              type="button"
              aria-label="Нажать логотип"
            >
              <img
                src="/src/img/logo_pink.svg"
                id="hero-logo"
                data-logo="pink"
                class="hero-logo-img"
                alt="Nosok"
              />
            </button>
          </div>
        </div>
        <div class="hero-footer">
          <span>Скролл ниже</span>
          <span>Там игра, задачи и найденные документы</span>
        </div>
        <!-- water filter removed for perf -->
      </section>

      <section class="home-game" id="home-game">
        <div class="game-grid">
          <div class="game-panel game-panel--play">
            <header class="header">
              <h2>Игра</h2>
              <div style="display: none" class="badge"></div>
            </header>
            <div id="app" class="game-shell">
              <div class="hud" id="hud">
                <div id="hint"></div>
                <div class="small" id="subhint"></div>
              </div>
              <div id="game-wrap">
                <section id="game"></section>
                <div id="touch-controls" aria-hidden="true">
                  <div class="touch-pad">
                    <button
                      class="touch-btn dpad up"
                      data-code="KeyW"
                      type="button"
                    >
                      W
                    </button>
                    <button
                      class="touch-btn dpad left"
                      data-code="KeyA"
                      type="button"
                    >
                      A
                    </button>
                    <button
                      class="touch-btn dpad down"
                      data-code="KeyS"
                      type="button"
                    >
                      S
                    </button>
                    <button
                      class="touch-btn dpad right"
                      data-code="KeyD"
                      type="button"
                    >
                      D
                    </button>
                  </div>
                  <div class="touch-actions">
                    <button
                      class="touch-btn action"
                      data-code="KeyE"
                      type="button"
                    >
                      E
                    </button>
                    <button
                      class="touch-btn jump"
                      data-code="Space"
                      type="button"
                    >
                      A
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="game-panel game-panel--tasks">
            <div class="header">
              <h2>Квесты</h2>
              <span class="badge">3/5</span>
            </div>
            <div class="task-list">
              <div class="quests">
                <article class="task_card">
                  <h4>Почините стиралку</h4>
                  <p>Найдите сломанную машину и решите задачу.</p>
                </article>
                <article class="task_card">
                  <h4>Соберите нитки</h4>
                  <p>Отыщите спрятанные катушки на складе.</p>
                </article>
                <article class="task_card">
                  <h4>Верните бирку</h4>
                  <p>Передайте найденный предмет администратору.</p>
                </article>
                <article class="task_card">
                  <h4>Соберите артефакт</h4>
                  <p>Исследуйте дальний ряд и найдите редкую вещь.</p>
                </article>
              </div>
              <div class="quests_done">
                <article class="task_card">
                  <h4>Освободите шкафчик</h4>
                  <p>Проверьте камеры хранения возле входа.</p>
                </article>
              </div>
            </div>
          </div>

          <div class="game-panel game-panel--cards">
            <div class="header">
              <h2>Найденные предметы</h2>
            </div>
            <div class="cards-grid" id="items-list"></div>
          </div>
          <div class="game-panel game-panel--docs">
            <div class="header">
              <h2>Последние документы</h2>
              <span class="badge" id="docs-count-tag">найдено 0 / 5</span>
            </div>
            <ul class="doc-list" id="docs-list"></ul>
          </div>
          <div id="DOC" class="doc-panel" aria-hidden="true">
            <div class="doc-shell">
              <header class="doc-header">
                <div class="doc-header-row">
                  <span class="doc-tag" id="doc-type">DOC</span>
                  <button class="doc-close" type="button">Закрыть</button>
                </div>
                <h1 id="doc-title" class="doc-title">Документ NOSOK</h1>
                <p id="doc-lead" class="doc-lead">
                  Подойдите к листовке в игре и нажмите E, чтобы открыть её.
                </p>
              </header>
              <div id="doc-sections" class="doc-sections"></div>
              <footer class="doc-footer">
                <span id="doc-footer-build">NOSOK LAB • DOC BUILD 004</span>
                <span class="doc-footer-hint">ESC — закрыть</span>
              </footer>
            </div>
          </div>
          <div id="ITEM" class="doc-panel" aria-hidden="true" data-type="item">
            <div class="doc-shell">
              <header class="doc-header">
                <div class="doc-header-row">
                  <span class="doc-tag">Гардероб</span>
                  <button class="doc-close" id="item-close" type="button">
                    Закрыть
                  </button>
                </div>
                <h1 id="item-title" class="doc-title">Предмет гардероба</h1>
                <p id="item-lead" class="doc-lead">
                  Найдите вещь в игре и откройте карточку, чтобы прочитать
                  научпоп.
                </p>
              </header>
              <div id="item-sections" class="doc-sections">
                <section class="doc-section" id="item-facts">
                  <h2>Научпоп</h2>
                </section>
              </div>
              <footer class="doc-footer">
                <span>NOSOK LAB • ITEM BUILD 001</span>
                <span class="doc-footer-hint">ESC — закрыть</span>
              </footer>
            </div>
          </div>
          <div id="ITEM_MODEL_LAYER" aria-hidden="true">
            <div id="item-viewer-wrap">
              <div
                id="item-viewer"
                role="img"
                aria-label="3D-просмотр предмета гардероба"
              ></div>
              <p id="item-viewer-tip">Потяните модель, чтобы осмотреть</p>
            </div>
          </div>
        </div>
      </section>
      <section
        class="home-recycler"
        id="home-recycler"
        aria-labelledby="recycler-title"
      >
        <header
          class="section-header section-header--wide section-header--recycler"
        >
          <h2 id="recycler-title">Разбери одежду в сырьё</h2>
        </header>
        <div
          class="recycler-hp-wall"
          id="recycler-hp-wall"
          aria-hidden="true"
        ></div>
        <div class="recycler-shell">
          <div class="recycler-stage" id="recycler-stage">
            <div class="recycler-grid" aria-hidden="true"></div>
            <button
              class="recycler-target garment garment--hoodie"
              id="recycler-target"
              type="button"
              aria-label="Разобрать одежду"
            ></button>
            <div class="recycler-life" aria-hidden="true">
              <span class="recycler-life-bar" id="recycler-life-bar"></span>
            </div>
            <output
              class="recycler-drop"
              id="recycler-drop"
              aria-live="polite"
            ></output>
            <span
              class="recycler-hitline"
              id="recycler-hitline"
              aria-hidden="true"
            ></span>
          </div>
          <div class="recycler-meta">
            <div class="recycler-resource">
              <span class="recycler-resource-label">сырьё</span>
              <strong
                class="recycler-resource-value"
                id="recycler-resource-value"
                >0</strong
              >
            </div>
            <div
              class="recycler-tools"
              id="recycler-tools"
              aria-label="Инструменты разбора"
            >
              <button
                class="recycler-tool is-unlocked is-selected"
                type="button"
                data-tool-index="0"
                aria-label="Инструмент 1"
              ></button>
              <button
                class="recycler-tool"
                type="button"
                data-tool-index="1"
                data-tool-cost="80"
                aria-label="Инструмент 2, стоимость 80"
              >
                <span>80</span>
              </button>
              <button
                class="recycler-tool"
                type="button"
                data-tool-index="2"
                data-tool-cost="160"
                aria-label="Инструмент 3, стоимость 160"
              >
                <span>160</span>
              </button>
              <button
                class="recycler-tool"
                type="button"
                data-tool-index="3"
                data-tool-cost="260"
                aria-label="Инструмент 4, стоимость 260"
              >
                <span>260</span>
              </button>
            </div>
          </div>
        </div>
      </section>
    </main>
  </body>
</html>
